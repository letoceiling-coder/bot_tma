# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

## ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ - –Ω—É–∂–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å:

### 1. **API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ –∫–∞–Ω–∞–ª—ã** ‚ö†Ô∏è
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∑–∞–≥–ª—É—à–∫–∏.

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä `SubscriptionController.php`
- [ ] –î–æ–±–∞–≤–∏—Ç—å endpoint `GET /api/v1/subscriptions/check` 
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —á–µ—Ä–µ–∑ Telegram Bot API –º–µ—Ç–æ–¥ `getChatMember`
- [ ] –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å `initData` –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```php
// app/Http/Controllers/Api/v1/SubscriptionController.php
public function check(Request $request) {
    // 1. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å initData
    // 2. –ü–æ–ª—É—á–∏—Ç—å user_id –∏–∑ initData
    // 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ Telegram Bot API
    // 4. –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
}
```

### 2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤** ‚ö†Ô∏è
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞–Ω–∞–ª—ã –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `channels` –≤ –ë–î (–∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –∫–∞–Ω–∞–ª–æ–≤
- [ ] API endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫–∞–Ω–∞–ª–æ–≤
- [ ] –ê–¥–º–∏–Ω–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü–æ–ª—è –∫–∞–Ω–∞–ª–∞:**
- id, title, description, username, url, avatar, is_active, sort_order

### 3. **–í–∞–ª–∏–¥–∞—Ü–∏—è initData –Ω–∞ –±—ç–∫–µ–Ω–¥–µ** üîí
**–ü—Ä–æ–±–ª–µ–º–∞:** initData –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è, –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∫–∞.

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- [ ] –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏–∑ `.env` (`TELEGRAM_BOT_TOKEN`)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∏ initData —á–µ—Ä–µ–∑ HMAC-SHA-256
- [ ] –ü—Ä–æ–≤–µ—Ä—è—Ç—å timestamp (–Ω–µ —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤)
- [ ] –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å user –¥–∞–Ω–Ω—ã–µ

### 4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** üìã
**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å try-catch –≤ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- [ ] –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- [ ] Fallback —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 5. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** ‚öôÔ∏è
**–ß—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `.env`:**
```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_BOT_USERNAME=your_bot_username
TELEGRAM_WEBAPP_URL=https://yourdomain.com
APP_ENV=production
APP_DEBUG=false
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–¥–µ–ª–∞—Ç—å:

### 6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- [ ] –õ–æ–≥–∏ –ø–æ–¥–ø–∏—Å–æ–∫/–æ—Ç–ø–∏—Å–æ–∫
- [ ] –õ–æ–≥–∏ –≤—Ä–∞—â–µ–Ω–∏–π –∫–æ–ª–µ—Å–∞
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 7. **Rate Limiting**
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
- [ ] –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

### 8. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫
- [ ] Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 9. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- [ ] Unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- [ ] Integration —Ç–µ—Å—Ç—ã –¥–ª—è API
- [ ] E2E —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–ª–æ—É

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:

- ‚úÖ –í–µ—Ä—Å—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Start –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º
- ‚úÖ Telegram WebApp SDK –ø–æ–¥–∫–ª—é—á–µ–Ω
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Vuex store
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–ª–µ—Å–∞ (WheelSettings)
- ‚úÖ API –¥–ª—è wheel-sections
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è:

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞
1. –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å WebApp URL
4. –°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª—ã –∏ –¥–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –®–∞–≥ 2: –ë—ç–∫–µ–Ω–¥
1. –î–æ–±–∞–≤–∏—Ç—å `TELEGRAM_BOT_TOKEN` –≤ `.env`
2. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é initData
4. –î–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ë–î)
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–Ω–∞–ª—ã —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥

### –®–∞–≥ 3: –§—Ä–æ–Ω—Ç–µ–Ω–¥
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ URL –∫–∞–Ω–∞–ª–æ–≤ –≤ `Subscribe/index.vue`
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫
3. –£–±—Ä–∞—Ç—å console.log –∏–∑ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É (production mode)

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram WebApp
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–æ–∫
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è initData –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞** - –±–µ–∑ –Ω–µ—ë –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–¥–¥–µ–ª–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –±—ç–∫–µ–Ω–¥** - –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–Ω–∞–¥—ë–∂–Ω–∞
3. **HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - Telegram WebApp —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ HTTPS
4. **–ù–µ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ**

